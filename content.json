{"meta":{"title":"monetyang","subtitle":"小不忍则卖大萌","description":"小不忍则卖大萌","author":"Monet Yang","url":"https://yanghuaijiang.github.io/monet-yang"},"pages":[],"posts":[{"title":"关于vue的双向绑定（一）","slug":"关于vue的双向绑定（一）","date":"2017-09-29T02:31:16.000Z","updated":"2017-09-29T05:35:31.000Z","comments":true,"path":"2017/09/29/关于vue的双向绑定（一）/","link":"","permalink":"https://yanghuaijiang.github.io/monet-yang/2017/09/29/关于vue的双向绑定（一）/","excerpt":"一、极简的双向绑定实现12345678910111213141516&lt;input type=\"text\" id=\"a\" /&gt;&lt;span id=\"b\"&gt;&lt;/span&gt;&lt;script&gt; let obj = &#123;&#125;; Object.defineProperty(obj, 'hello', &#123; set(newVal) =&gt; &#123; document.getElementById('a').value = newVal; document.getElementById('b').innerHTML = newVal; &#125; &#125;); document.addEventListener('keyup', e =&gt; &#123; obj.hello = e.target.value; &#125;);&lt;/script&gt;","text":"一、极简的双向绑定实现12345678910111213141516&lt;input type=\"text\" id=\"a\" /&gt;&lt;span id=\"b\"&gt;&lt;/span&gt;&lt;script&gt; let obj = &#123;&#125;; Object.defineProperty(obj, 'hello', &#123; set(newVal) =&gt; &#123; document.getElementById('a').value = newVal; document.getElementById('b').innerHTML = newVal; &#125; &#125;); document.addEventListener('keyup', e =&gt; &#123; obj.hello = e.target.value; &#125;);&lt;/script&gt;&emsp;&emsp;此例实现的效果是：随文本框输入文字的变化，span 中会同步显示相同的文字内容；在js或控制台显式的修改 obj.hello 的值，视图会相应更新。这样就实现了 model =&gt; view 以及 view =&gt; model 的双向绑定。&emsp;&emsp;简单的就到这里。 二、DocumentFragment&emsp;&emsp;DocumentFragment（文档片段）可以看作节点容器，它可以包含多个子节点，当我们将它插入到 DOM 中时，只有它的子节点会插入目标节点，所以把它看作一组节点的容器。使用 DocumentFragment 处理节点，速度和性能远远优于直接操作 DOM。&emsp;&emsp;Vue 进行编译时，就是将挂载目标的所有子节点劫持（真的是劫持，通过 append 方法，DOM 中的节点会被自动删除）到 DocumentFragment 中，经过一番处理后，再将 DocumentFragment 整体返回插入挂载目标。12345678910111213141516171819202122232425262728&lt;div id=\"app\" /&gt; &lt;input type=\"text\" id=\"a\" /&gt; &lt;span id=\"b\"&gt;&lt;/span&gt;&lt;/div&gt;&lt;script&gt; let dom = nodeToFragment(document.getElementById('app')); function nodeToFragment(node) &#123; let flag = document.createDocumentFragment(); let child; while (child = node.firstChild) &#123; flag.append(child) &#125; if (isChild(child)) &#123; nodeToFragment(isChild(child),vm); &#125; return flag; &#125; function isChild(node)&#123; if (node.childNodes.length === 0) &#123; return false; &#125; else&#123; return node; &#125; &#125;&lt;/script&gt;","categories":[],"tags":[{"name":"vue.js","slug":"vue-js","permalink":"https://yanghuaijiang.github.io/monet-yang/tags/vue-js/"}]},{"title":"关于开车","slug":"关于开车","date":"2017-09-29T01:37:10.000Z","updated":"2017-09-29T02:22:05.000Z","comments":true,"path":"2017/09/29/关于开车/","link":"","permalink":"https://yanghuaijiang.github.io/monet-yang/2017/09/29/关于开车/","excerpt":"","text":"&emsp;&emsp;昨天看了篇新闻，说是汽车之家的老总闫闯因为自己员工开车没系安全带，然后把她绑到了墙上，看完之后，心里先是一笑，然后又把笑容收住了，细想，一个老板为什么要对员工如此苛刻？就简简单单的因为没系安全带么？&emsp;&emsp;实际上，白领一族开车上班，本是件很普通的事情，但她没有系安全带，这是违反道路安全法的，虽未产生严重的后果，但这些细节不去考虑，往往会造成很严重的后果。随便网上一搜，都能看到很多触目惊心的视频。各种路怒症，开车陋习等等，总会在将来的某个点爆发。所以顿时觉得闫闯的做法，是应该的。&emsp;&emsp;昨天开车上班，自己也是由于着急送媳妇，然后车道也不是直行的，然后我就变道没有打转向灯，车子虽未碰到，但还是差一点，要不是后面的那个司机一直“滴”我，估计肯定是会有小碰擦的。送完媳妇，回到单位，第一件事情，就是把自己开车不好的地方写到了备忘录里，时刻提醒自己。 &emsp;&emsp;最后，作为一个新司机，必须要养成良好的开车习惯，加油！","categories":[],"tags":[{"name":"开车 随笔","slug":"开车-随笔","permalink":"https://yanghuaijiang.github.io/monet-yang/tags/开车-随笔/"}]},{"title":"hello","slug":"hello","date":"2017-09-28T10:00:18.000Z","updated":"2017-09-28T10:01:00.000Z","comments":true,"path":"2017/09/28/hello/","link":"","permalink":"https://yanghuaijiang.github.io/monet-yang/2017/09/28/hello/","excerpt":"","text":"你好，欢迎来到我的个人技术博客。","categories":[],"tags":[]}]}